<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<title>SimpleChat - Login</title>
	<link type="image/x-icon" href="../style/logo.png" rel="icon">

	<style>
		body {
			font-family: -apple-system, system-ui, sans-serif;
		}

		article {
			box-sizing: border-box;
			width: 90%;
			margin: 20px auto;
			padding: 20px;
			border: 1px solid #ccc;
			border-radius: 16px;
		}
	</style>

	<link href="../style/general.css" rel="stylesheet">
	<link href="../style/login.css" rel="stylesheet">
	<script src="../script/general.js"></script>
	<script src="../script/socketConnection.js"></script>
	<script src="../script/login.js"></script>
</head>

<body>
<article class="loginForm">
	<h1>Let's Chat</h1>
	<p>
		<strong>Login now to start chatting.</strong>
	</p>

	<form onsubmit="return loginRequest('login')">
		<div class="input-label"
		     data-label="Username">
			<label for="usr"
			       hidden></label>
			<input type="text"
			       id="usr"
			       required
			       maxlength="16"
			       onfocusin="focusInputField(this)"
			       onfocusout="loseFocusInputField(this)"
			       tabindex="1"><br>
		</div>

		<div class="input-label"
		     data-label="Password">
			<label for="pwd"
			       hidden></label>
			<input type="password"
			       id="pwd"
			       required
			       onfocusin="focusInputField(this)"
			       onfocusout="loseFocusInputField(this)"
			       tabindex="2"><br>
		</div>

		<i class="error"
		   id="pwdError"></i>
		<input type="submit"
		       id="submit"
		       tabindex="3"
		       value="Login">
		<a href="./register">Create an account</a>
	</form>
</article>

	<footer>
		<span class="appearanceMode" onclick="changeColorScheme()"></span>
		<input type="checkbox" id="se" checked="checked"
			onchange="setSocketEncryption(document.getElementById('se').checked)">
		<label for="se">Enable Encryption</label>
		<a class="footerLink" href="../subpages/imprint.html">Imprint</a>
		<a class="footerLink" href="../subpages/privacy.html">Privacy</a>
	</footer>
	<script>encryptionAvailable()</script>

	<script>
		/* do this because the input values are predefined -> label will be properly shown */
		document.querySelector("#pwd").focus()
		document.querySelector("#usr").focus()
	</script>

</body>

</html>